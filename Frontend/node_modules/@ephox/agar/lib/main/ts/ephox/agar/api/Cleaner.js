import { Arr } from '@ephox/katamari';
export const Cleaner = () => {
    let tasks = [];
    const add = (task) => {
        tasks.push(task);
    };
    const run = () => {
        Arr.each(tasks, (task) => {
            try {
                task();
            }
            catch (e) {
                // eslint-disable-next-line no-console
                console.log(e);
            }
        });
        tasks = [];
    };
    const wrap = (fn) => (...args) => {
        run();
        return fn.apply(null, args);
    };
    return {
        add,
        run,
        wrap
    };
};
//# sourceMappingURL=Cleaner.js.map